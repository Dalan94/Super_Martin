\hypertarget{character_8h}{\subsection{character.\-h File Reference}
\label{character_8h}\index{character.\-h@{character.\-h}}
}


header de \hyperlink{character_8c}{character.\-c}  


{\ttfamily \#include \char`\"{}const.\-h\char`\"{}}\\*
{\ttfamily \#include $<$stdlib.\-h$>$}\\*
{\ttfamily \#include $<$stdio.\-h$>$}\\*
{\ttfamily \#include $<$errno.\-h$>$}\\*
{\ttfamily \#include $<$S\-D\-L/\-S\-D\-L.\-h$>$}\\*
{\ttfamily \#include $<$S\-D\-L/\-S\-D\-L\-\_\-image.\-h$>$}\\*
{\ttfamily \#include \char`\"{}file\-\_\-level.\-h\char`\"{}}\\*
{\ttfamily \#include \char`\"{}share.\-h\char`\"{}}\\*
{\ttfamily \#include \char`\"{}map.\-h\char`\"{}}\\*
{\ttfamily \#include \char`\"{}structures.\-h\char`\"{}}\\*
{\ttfamily \#include \char`\"{}image.\-h\char`\"{}}\\*
{\ttfamily \#include \char`\"{}enemies.\-h\char`\"{}}\\*
{\ttfamily \#include \char`\"{}mobile\-\_\-platform.\-h\char`\"{}}\\*
{\ttfamily \#include \char`\"{}sound.\-h\char`\"{}}\\*
\subsubsection*{Macros}
\begin{DoxyCompactItemize}
\item 
\#define \hyperlink{character_8h_a3af35b2f3ecf099e959f98d3aaa558a5}{S\-G\-N}(X)~(((X)==0)?(0)\-:(((X)$<$0)?(-\/1)\-:(1)))
\item 
\#define \hyperlink{character_8h_adefab4344518e9d35a80d87c20c0fa48}{A\-B\-S}(X)~((((X)$<$0)?(-\/(X))\-:(X)))
\end{DoxyCompactItemize}
\subsubsection*{Functions}
\begin{DoxyCompactItemize}
\item 
int \hyperlink{character_8h_afee02e189e4fc6308f0359f0afe747cb}{move\-Character} (\hyperlink{struct_character}{Character} $\ast$c, float move\-\_\-left, float move\-\_\-right, int jump, \hyperlink{struct_map}{Map} $\ast$m, float $\ast$speed, \hyperlink{structlist}{list} $\ast$l, \hyperlink{struct_sound}{Sound} $\ast$sound\-\_\-sys, \hyperlink{structplatform_set}{platform\-Set} $\ast$ps)
\item 
void \hyperlink{character_8h_a3cace1cd02fa4987839238e5d4f79796}{free\-Characters} (\hyperlink{struct_character}{Character} $\ast$c)
\item 
\hyperlink{struct_character}{Character} $\ast$ \hyperlink{character_8h_af17ad2fb50f637fe363a48e24727bbc0}{create\-Character} (char $\ast$tile, int x, int y, int npc, int nb\-Projectile, int nb\-Coins, int nb\-Lifes)
\item 
void \hyperlink{character_8h_a3c4b84a9d7123af243336f3540d2ae83}{blit\-Character} (S\-D\-L\-\_\-\-Surface $\ast$screen, \hyperlink{struct_character}{Character} $\ast$c, \hyperlink{struct_map}{Map} $\ast$m)
\item 
int \hyperlink{character_8h_af15e182c04b17ce9a3d16872f2bf4f49}{try\-Movement} (\hyperlink{struct_character}{Character} $\ast$c, int vx, int vy, \hyperlink{struct_map}{Map} $\ast$m, \hyperlink{structlist}{list} $\ast$l, \hyperlink{structplatform_set}{platform\-Set} $\ast$ps, \hyperlink{struct_sound}{Sound} $\ast$sound\-\_\-sys)
\item 
void \hyperlink{character_8h_a780616fe53145812a634dcf5e4f20959}{presise\-Move\-Character} (\hyperlink{struct_character}{Character} $\ast$c, int vx, int vy, \hyperlink{struct_map}{Map} $\ast$m, \hyperlink{structlist}{list} $\ast$l, \hyperlink{structplatform_set}{platform\-Set} $\ast$ps)
\item 
int \hyperlink{character_8h_a7b6d5ab652a57c5d6ffbaea628164402}{collision\-Sprite} (S\-D\-L\-\_\-\-Rect s1, S\-D\-L\-\_\-\-Rect s2)
\item 
int \hyperlink{character_8h_aea69b279f0dc778dde496ea610f1aa82}{check\-Fall} (\hyperlink{struct_character}{Character} $\ast$c, \hyperlink{struct_map}{Map} $\ast$m, \hyperlink{structplatform_set}{platform\-Set} $\ast$ps)
\item 
int \hyperlink{character_8h_a81dc963e2a308d0e3e627b7652aa7489}{check\-Wall} (\hyperlink{struct_character}{Character} $\ast$c, \hyperlink{struct_map}{Map} $\ast$m)
\end{DoxyCompactItemize}


\subsubsection{Detailed Description}
header de \hyperlink{character_8c}{character.\-c} \begin{DoxyAuthor}{Author}
Xavier C\-O\-P\-O\-N\-E\-T 
\end{DoxyAuthor}
\begin{DoxyDate}{Date}
2014-\/02-\/27 
\end{DoxyDate}


\subsubsection{Macro Definition Documentation}
\hypertarget{character_8h_adefab4344518e9d35a80d87c20c0fa48}{\index{character.\-h@{character.\-h}!A\-B\-S@{A\-B\-S}}
\index{A\-B\-S@{A\-B\-S}!character.h@{character.\-h}}
\paragraph[{A\-B\-S}]{\setlength{\rightskip}{0pt plus 5cm}\#define A\-B\-S(
\begin{DoxyParamCaption}
\item[{}]{X}
\end{DoxyParamCaption}
)~((((X)$<$0)?(-\/(X))\-:(X)))}}\label{character_8h_adefab4344518e9d35a80d87c20c0fa48}
X absolute value \hypertarget{character_8h_a3af35b2f3ecf099e959f98d3aaa558a5}{\index{character.\-h@{character.\-h}!S\-G\-N@{S\-G\-N}}
\index{S\-G\-N@{S\-G\-N}!character.h@{character.\-h}}
\paragraph[{S\-G\-N}]{\setlength{\rightskip}{0pt plus 5cm}\#define S\-G\-N(
\begin{DoxyParamCaption}
\item[{}]{X}
\end{DoxyParamCaption}
)~(((X)==0)?(0)\-:(((X)$<$0)?(-\/1)\-:(1)))}}\label{character_8h_a3af35b2f3ecf099e959f98d3aaa558a5}
X sign 

\subsubsection{Function Documentation}
\hypertarget{character_8h_a3c4b84a9d7123af243336f3540d2ae83}{\index{character.\-h@{character.\-h}!blit\-Character@{blit\-Character}}
\index{blit\-Character@{blit\-Character}!character.h@{character.\-h}}
\paragraph[{blit\-Character}]{\setlength{\rightskip}{0pt plus 5cm}void blit\-Character (
\begin{DoxyParamCaption}
\item[{S\-D\-L\-\_\-\-Surface $\ast$}]{screen, }
\item[{{\bf Character} $\ast$}]{c, }
\item[{{\bf Map} $\ast$}]{m}
\end{DoxyParamCaption}
)}}\label{character_8h_a3c4b84a9d7123af243336f3540d2ae83}
blit the character 
\begin{DoxyParams}[1]{Parameters}
\mbox{\tt in,out}  & {\em screen} & game screen \\
\hline
\mbox{\tt in}  & {\em c} & the character \\
\hline
\mbox{\tt in}  & {\em m} & game map \\
\hline
\end{DoxyParams}
\hypertarget{character_8h_aea69b279f0dc778dde496ea610f1aa82}{\index{character.\-h@{character.\-h}!check\-Fall@{check\-Fall}}
\index{check\-Fall@{check\-Fall}!character.h@{character.\-h}}
\paragraph[{check\-Fall}]{\setlength{\rightskip}{0pt plus 5cm}int check\-Fall (
\begin{DoxyParamCaption}
\item[{{\bf Character} $\ast$}]{c, }
\item[{{\bf Map} $\ast$}]{m, }
\item[{{\bf platform\-Set} $\ast$}]{ps}
\end{DoxyParamCaption}
)}}\label{character_8h_aea69b279f0dc778dde496ea610f1aa82}
tests if the character's futur position is over a void tile 
\begin{DoxyParams}[1]{Parameters}
\mbox{\tt in}  & {\em c} & the monster/character to be tested \\
\hline
\mbox{\tt in}  & {\em m} & the game map \\
\hline
\mbox{\tt in}  & {\em ps} & the platform set \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
1 if void tile, 0 if not 
\end{DoxyReturn}
\hypertarget{character_8h_a81dc963e2a308d0e3e627b7652aa7489}{\index{character.\-h@{character.\-h}!check\-Wall@{check\-Wall}}
\index{check\-Wall@{check\-Wall}!character.h@{character.\-h}}
\paragraph[{check\-Wall}]{\setlength{\rightskip}{0pt plus 5cm}int check\-Wall (
\begin{DoxyParamCaption}
\item[{{\bf Character} $\ast$}]{c, }
\item[{{\bf Map} $\ast$}]{m}
\end{DoxyParamCaption}
)}}\label{character_8h_a81dc963e2a308d0e3e627b7652aa7489}
tests if the character's futur position is next to a wall tile 
\begin{DoxyParams}[1]{Parameters}
\mbox{\tt in}  & {\em c} & the monster/character to be tested \\
\hline
\mbox{\tt in}  & {\em m} & the game map \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
1 if wall tile, 0 if not 
\end{DoxyReturn}
\hypertarget{character_8h_a7b6d5ab652a57c5d6ffbaea628164402}{\index{character.\-h@{character.\-h}!collision\-Sprite@{collision\-Sprite}}
\index{collision\-Sprite@{collision\-Sprite}!character.h@{character.\-h}}
\paragraph[{collision\-Sprite}]{\setlength{\rightskip}{0pt plus 5cm}int collision\-Sprite (
\begin{DoxyParamCaption}
\item[{S\-D\-L\-\_\-\-Rect}]{s1, }
\item[{S\-D\-L\-\_\-\-Rect}]{s2}
\end{DoxyParamCaption}
)}}\label{character_8h_a7b6d5ab652a57c5d6ffbaea628164402}
int \hyperlink{character_8h_a7b6d5ab652a57c5d6ffbaea628164402}{collision\-Sprite(\-S\-D\-L\-\_\-\-Rect s1, S\-D\-L\-\_\-\-Rect s2)} determine if there is a collision beteewen two sprites 
\begin{DoxyParams}[1]{Parameters}
\mbox{\tt in}  & {\em s1} & the first sprite \\
\hline
\mbox{\tt in}  & {\em s2} & the second sprite \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
3 if there is a collision and s1 is below s2, 2 if there is a collision and s1 is over s2, 0 if there is no collision 
\end{DoxyReturn}
\hypertarget{character_8h_af17ad2fb50f637fe363a48e24727bbc0}{\index{character.\-h@{character.\-h}!create\-Character@{create\-Character}}
\index{create\-Character@{create\-Character}!character.h@{character.\-h}}
\paragraph[{create\-Character}]{\setlength{\rightskip}{0pt plus 5cm}{\bf Character}$\ast$ create\-Character (
\begin{DoxyParamCaption}
\item[{char $\ast$}]{tile, }
\item[{int}]{x, }
\item[{int}]{y, }
\item[{int}]{npc, }
\item[{int}]{nb\-Projectile, }
\item[{int}]{nb\-Coins, }
\item[{int}]{nb\-Lifes}
\end{DoxyParamCaption}
)}}\label{character_8h_af17ad2fb50f637fe363a48e24727bbc0}
create a character 
\begin{DoxyParams}[1]{Parameters}
\mbox{\tt in}  & {\em tile} & character tile\-Set address \\
\hline
\mbox{\tt in}  & {\em x} & character's x location \\
\hline
\mbox{\tt in}  & {\em y} & character's y location \\
\hline
\mbox{\tt in}  & {\em npc} & type of npc if creating a npc, 0 if not \\
\hline
\mbox{\tt in}  & {\em nb\-Projectile} & the number of projectiles the character has \\
\hline
\mbox{\tt in}  & {\em nb\-Coins} & the number of coins the character has \\
\hline
\mbox{\tt in}  & {\em nb\-Lifes} & the number of life the character has \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
character structure pointer 
\end{DoxyReturn}


Here is the call graph for this function\-:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=292pt]{character_8h_af17ad2fb50f637fe363a48e24727bbc0_cgraph}
\end{center}
\end{figure}


\hypertarget{character_8h_a3cace1cd02fa4987839238e5d4f79796}{\index{character.\-h@{character.\-h}!free\-Characters@{free\-Characters}}
\index{free\-Characters@{free\-Characters}!character.h@{character.\-h}}
\paragraph[{free\-Characters}]{\setlength{\rightskip}{0pt plus 5cm}void free\-Characters (
\begin{DoxyParamCaption}
\item[{{\bf Character} $\ast$}]{c}
\end{DoxyParamCaption}
)}}\label{character_8h_a3cace1cd02fa4987839238e5d4f79796}
Free a character 
\begin{DoxyParams}[1]{Parameters}
\mbox{\tt in,out}  & {\em c} & the character \\
\hline
\end{DoxyParams}
\hypertarget{character_8h_afee02e189e4fc6308f0359f0afe747cb}{\index{character.\-h@{character.\-h}!move\-Character@{move\-Character}}
\index{move\-Character@{move\-Character}!character.h@{character.\-h}}
\paragraph[{move\-Character}]{\setlength{\rightskip}{0pt plus 5cm}int move\-Character (
\begin{DoxyParamCaption}
\item[{{\bf Character} $\ast$}]{c, }
\item[{float}]{move\-\_\-left, }
\item[{float}]{move\-\_\-right, }
\item[{int}]{jump, }
\item[{{\bf Map} $\ast$}]{m, }
\item[{float $\ast$}]{speed, }
\item[{{\bf list} $\ast$}]{l, }
\item[{{\bf Sound} $\ast$}]{sound\-\_\-sys, }
\item[{{\bf platform\-Set} $\ast$}]{ps}
\end{DoxyParamCaption}
)}}\label{character_8h_afee02e189e4fc6308f0359f0afe747cb}
move player according to the direction 
\begin{DoxyParams}[1]{Parameters}
\mbox{\tt in,out}  & {\em c} & the character \\
\hline
\mbox{\tt in}  & {\em move\-\_\-left} & indicates if must go to the left \\
\hline
\mbox{\tt in}  & {\em move\-\_\-right} & indicates if must go to the right \\
\hline
\mbox{\tt in}  & {\em jump} & indicates if must jump \\
\hline
\mbox{\tt in}  & {\em m} & level map \\
\hline
\mbox{\tt in}  & {\em speed} & movement speed \\
\hline
\mbox{\tt in,out}  & {\em l} & the enemy list \\
\hline
\mbox{\tt out}  & {\em sound\-\_\-sys} & the sound system \\
\hline
\mbox{\tt out}  & {\em ps} & the platform set \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
1 if character was moved without using the precise movement function, 0 if not 
\end{DoxyReturn}


Here is the call graph for this function\-:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{character_8h_afee02e189e4fc6308f0359f0afe747cb_cgraph}
\end{center}
\end{figure}


\hypertarget{character_8h_a780616fe53145812a634dcf5e4f20959}{\index{character.\-h@{character.\-h}!presise\-Move\-Character@{presise\-Move\-Character}}
\index{presise\-Move\-Character@{presise\-Move\-Character}!character.h@{character.\-h}}
\paragraph[{presise\-Move\-Character}]{\setlength{\rightskip}{0pt plus 5cm}void presise\-Move\-Character (
\begin{DoxyParamCaption}
\item[{{\bf Character} $\ast$}]{c, }
\item[{int}]{vx, }
\item[{int}]{vy, }
\item[{{\bf Map} $\ast$}]{m, }
\item[{{\bf list} $\ast$}]{l, }
\item[{{\bf platform\-Set} $\ast$}]{ps}
\end{DoxyParamCaption}
)}}\label{character_8h_a780616fe53145812a634dcf5e4f20959}
make a more presise move of a character if he can still move but the distance between it and the obstacle is less than its speed 
\begin{DoxyParams}[1]{Parameters}
\mbox{\tt in,out}  & {\em c} & the charactere \\
\hline
\mbox{\tt in}  & {\em m} & the map \\
\hline
\mbox{\tt in}  & {\em vx} & the horizontal component of the movement vector \\
\hline
\mbox{\tt in}  & {\em vy} & the vertical component of the movement vector \\
\hline
\mbox{\tt in,out}  & {\em l} & the enemy list \\
\hline
\mbox{\tt out}  & {\em ps} & the platform set \\
\hline
\end{DoxyParams}


Here is the call graph for this function\-:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{character_8h_a780616fe53145812a634dcf5e4f20959_cgraph}
\end{center}
\end{figure}


\hypertarget{character_8h_af15e182c04b17ce9a3d16872f2bf4f49}{\index{character.\-h@{character.\-h}!try\-Movement@{try\-Movement}}
\index{try\-Movement@{try\-Movement}!character.h@{character.\-h}}
\paragraph[{try\-Movement}]{\setlength{\rightskip}{0pt plus 5cm}int try\-Movement (
\begin{DoxyParamCaption}
\item[{{\bf Character} $\ast$}]{c, }
\item[{int}]{vx, }
\item[{int}]{vy, }
\item[{{\bf Map} $\ast$}]{m, }
\item[{{\bf list} $\ast$}]{l, }
\item[{{\bf platform\-Set} $\ast$}]{ps, }
\item[{{\bf Sound} $\ast$}]{sound\-\_\-sys}
\end{DoxyParamCaption}
)}}\label{character_8h_af15e182c04b17ce9a3d16872f2bf4f49}
try to move a character 
\begin{DoxyParams}[1]{Parameters}
\mbox{\tt in,out}  & {\em c} & the character \\
\hline
\mbox{\tt in}  & {\em vx} & the horizontal component of the movement vector \\
\hline
\mbox{\tt in}  & {\em vy} & the vertical component of the movement vector \\
\hline
\mbox{\tt in}  & {\em m} & the map the character is on \\
\hline
\mbox{\tt in,out}  & {\em l} & the enemy list \\
\hline
\mbox{\tt out}  & {\em ps} & the platform set \\
\hline
\mbox{\tt out}  & {\em sound\-\_\-sys} & the game sound system \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
1 if the character can be moved, 0 if not 
\end{DoxyReturn}


Here is the call graph for this function\-:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{character_8h_af15e182c04b17ce9a3d16872f2bf4f49_cgraph}
\end{center}
\end{figure}


